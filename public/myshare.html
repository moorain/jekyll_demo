<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>一些环境搭建</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="apple-touch-icon-precomposed" href="images/icon/icon.png">
    <link rel="shortcut icon" href="images/icon/favicon.ico">
    <link rel="stylesheet" href="./css/myshare.css">
    <style>
        h3,
        h1 {
            margin: 20px 0;
        }

        pre {
            margin: 5px;
            padding: 5px;
        }

        body,
        html,
        section,
        .row {
            color:#333;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        section {
            padding: 30px;
        }

        .side {
            transition: all 1s;
            width: 30%;
            padding: 20px;
            background-color: white;
            z-index: 999;
        }

        .sidefixed {
            position: fixed;
            left: 0;
            top: 0;
        }

        .right-btn {
            display: none;
        }

        .sharecontant {
            width: 70%;
            float: right;
            /* background-color: #f1f1f1; */
            border-left: 1px solid #eee;
        }

        @media (max-width:768px) {
            .side {
                position: absolute;
                /* display: none; */
                left: -50%;
            }
            .sharecontant {
                float: none;
                width: 100%;
            }
            .right-btn {
                display: block;
            }
            .activeside {
                left: 0;
                border-right: 1px solid #eee;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <!-- 导航栏 -->
        <script src="./nav.js"></script>
    </header>
    <div class="">
        <div class="row">
             
            <div class="pull-left side">
               <h3>一些环境搭建</h3>
               <ul id="sidetitle">
                   <li><h3><a href="#nodejs">1. Nodejs</a></h3></li>
               </ul>
                
            </div>
            <div class=" sharecontant">
                <button class="right-btn btn btn-defalut">>></button>
                <section>
                    <h1>nodejs</h1>
                    <h3>1.下载node js</h3>
                    <blockquote>
                        <p>此教程为window 10 系统下的安装</p>
                    </blockquote>
                    <ol>
                        <li>官网下载
                            <a href="https://nodejs.org/zh-cn/download/" title="官网下载">https://nodejs.org/zh-cn/download/</a> ，根据系统推荐下载msi包。</li>
                        <li>安装目录默认为 C:\Program Files\nodejs\
                        </li>
                        <li>装好后 命令行运行：node -v 查看是否有版本号，显示版本则说明安装成功！</li>
                        <li>
                            <p>检查环境变量：我的电脑（右键）--属性--高级系统设置--高级--点击环境变量按钮</p>
                            <p>点击编辑 - 新建
                                <br> 将nodejs安装目录添加到环境变量中。
                            </p>
                            <p>
                                <strong>这里有一个注意点，卸载后重装nodejs的，nodejs的环境变量路径可能会出问题，一定要记得检查环境变量的路径是否有误。</strong>
                            </p>
                        </li>
                    </ol>
                    <h1>npm</h1>
                    <ol>
                        <li>新版的 node.js已经集成了 npm，所以之前安装 node时 npm也一并安装好了，可以通过输入 "npm -v" 来测试是否成功安装。</li>
                        <li>常用命令:
                        </li>
                    </ol>
                    <blockquote>
                        <p>npm init 会引导你创建一个package.json 文件，包括名称、版本、作者这些信息等
                            <br> npm install [name] 安装nodejs 的依赖包
                            <br> npm install [name] -g 将包安装到全局环境中
                            <br> npm install [name] --save 安装的同时，将信息写入package.json 中
                            <br> npm remove [name] 移除
                            <br> npm update [name] 更新
                            <br> npm view [name] versions 查看可用版本
                        </p>
                    </blockquote>
                    <h1>cnpm</h1>
                    <p>安装国内的淘宝镜像： 官方地址：
                        <a href="http://npm.taobao.org/" title="淘宝镜像">http://npm.taobao.org/</a>
                    </p>
                    <blockquote>
                        <p>npm install -g cnpm --registry=https://registry.npm.taobao.org</p>
                    </blockquote>
                    <h1>Express</h1>
                    <p>Express 是一个基于Node.js 平台的极简、灵活的web 应用开发框架，它提供一系列强大的特性，帮 助你创建各种Web 和移动设备应用。</p>
                    <p>Express 框架核心特性：
                        <br> 1. 可以设置中间件来响应HTTP 请求。
                        <br> 2. 定义了路由表用于执行不同的HTTP 请求动作。 （url = 资源） 映射
                        <br> 3. 可以通过向模板传递参数来动态渲染HTML 页面。
                    </p>
                    <h3>1.Express 使用</h3>
                    <h4>简单使用</h4>
                    <p>1、新建一个NodeJs 项目文件
                        <br> 2、npm init 初始化项目配置文件(package.json 包描述文件)</p>
                    <p>package.json 中:</p>
                    <pre><code>"scripts": {
                    //命令
                    "start":"node ./index"
                    }
                    </code></pre>

                    <p>npm start 执行”start”后面的代码。</p>
                    <p>3、安装express</p>
                    <blockquote>
                        <p>npm install express --save
                        </p>
                    </blockquote>
                    <p>4、编写一个app.js 使用express</p>
                    <pre><code>//导入express 模块
                    var express = require("express");
                    //创建一个express 应用
                    var app = express();
                    //处理"/"请求
                    app.get("/",function(req,res){
                    //响应输出“hello world”
                    res.send("Hello world");
                    });
                    //启动服务器监听3000 端口
                    app.listen(3000,function(){
                        console.log("express app 启动成功。。。");
                    });
                    </code></pre>

                    <p>5、启动服务器</p>
                    <blockquote>
                        <p>node app.js</p>
                    </blockquote>
                    <p>6、浏览器访问 localhost:3000</p>
                    <h3>Express-generator</h3>
                    <p>为了快速的创建express 项目，express 团队为使用者提供了项目快速生成工具，express-generator。</p>
                    <p>1、安装express-generator</p>
                    <blockquote>
                        <p>npm i express-generator -g //全局安装</p>
                    </blockquote>
                    <p>2、新建一个目录（或者找一个空目录）</p>
                    <p>F:\webproject (目录可以新建在任何位置，但最好不要中文路径)</p>
                    <p>3、通过命令创建express 项目</p>
                    <blockquote>
                        <p>express -e （express 代表在当前目录下面建立express 项目-e 代表使用ejs 模版引擎）</p>
                        <p>express webapp (代表在当前目录下面，新建一个webapp 文件夹，然后在建立express 项目)</p>
                    </blockquote>
                    <p>项目结构：</p>
                    <pre><code>bin : 执行文件，也是express 项目启动文件。
                    public:公共的资源，浏览器可以直接访问的资源。（图片，js，css）
                    views:服务器端模板文件。
                    routes:路由处理器，处理浏览器发出不同url 的处理程序。
                    /login function(){
                    //登录处理程序
                    }
                    app.js express 应用的主文件，该文件主要用于整合其他第三方模块和配置express 的系统参数。
                    </code></pre>

                    <p>4、安装依赖包</p>
                    <p>通过package.json</p>
                    <pre><code>"dependencies": {
                        "body-parser": "~1.15.1",
                        "cookie-parser": "~1.4.3",
                        "debug": "~2.2.0",
                        "ejs": "~2.4.1",
                        "express": "~4.13.4",
                        "morgan": "~1.7.0",
                        "serve-favicon": "~2.3.0"
                    }
                    </code></pre>

                    <blockquote>
                        <p>cnpm install 或npm install //通过package.json里的配置安装需要的依赖包</p>
                    </blockquote>
                    <p>5、启动express</p>
                    <blockquote>
                        <p>npm start</p>
                    </blockquote>
                    <p>6、浏览器访问 localhost:3000</p>
                    <p>这里有一点，通过这个项目自动化构建工具创建的app.js 通常我们会在最后自己编写监听端口:</p>
                    <pre><code>app.listen(3000,function(){
                        console.log("启动成功。");
                    });
                    </code></pre>

                    <p>这时候运行项目的时候可以直接通过　运行app.js 来运行.</p>
                    <blockquote>
                        <p>node app </p>
                    </blockquote>
                    <h1>MongoDB</h1>
                    <blockquote>
                        <p>window 10 系统下安装:</p>
                    </blockquote>
                    <p>MongoDB 官网地址：
                        <a href="https://www.mongodb.com/">https://www.mongodb.com/ </a>
                        <br> MongoDB 下载地址：
                        <a href="https://www.mongodb.com/download-center#community">https://www.mongodb.com/download-center#community</a>
                    </p>
                    <h3>1.安装</h3>
                    <p>根据系统下载32 位或64 位的.msi 文件
                        <br> 安装过程中 在choose setup type 处选择 complete完整安装.</p>
                    <p>安装目录默认为:</p>
                    <p>C:\Program Files\MongoDB\Server\3.2\bin</p>
                    <p>目录下:
                        <img src="https://i.imgur.com/NHJHvD4.jpg">
                    </p>
                    <p>以管理员身份运行上面的命令..</p>
                    <h3>2.设置环境变量</h3>
                    <p>设置环境变量，在dos 窗口的任何目录下都能执行mongo 的命令.</p>
                    <blockquote>
                        <p>建议修改系统变量 --而不是某个用户独有的环境变量。</p>
                    </blockquote>
                    <p>我的电脑（右键）--属性--高级系统设置--高级--点击环境变量按钮</p>
                    <p>系统变量-path 里添加:</p>
                    <blockquote>
                        <p>C:\Program Files\MongoDB\Server\3.2\bin</p>
                    </blockquote>
                    <p>在win7 上,环境变量需要在之前的变量上添加 分号 ; 再将地址复制进去.</p>
                    <h3>3.创建文件夹</h3>
                    <p>1、在d 盘建立一个文件夹mongodb，并且建立子目录db 和log</p>
                    <blockquote>
                        <p>d:\mongodb\db、d:\mongodb\log， 分别用来存放数据库文件和数据库日志文件.</p>
                    </blockquote>
                    <p>2、去掉mongodb 文件夹的只读属性。</p>
                    <h3>4.启动MongoDB</h3>
                    <p>启动mongdb的一些参数:</p>
                    <p>
                        <img src="https://i.imgur.com/mnXa6VM.jpg">
                    </p>
                    <p>
                        <strong>以管理员身份运行cmd.exe</strong> 执行以下命令:</p>
                    <blockquote>
                        <p>mongod --dbpath "d:\mongodb\db" --logpath "d:\mongodb\log\MongoDB.log"</p>
                    </blockquote>
                    <p>执行后,另外开命令窗口测试是否启动成功</p>
                    <p>原来的cmd
                        <strong>窗口不关闭，以管理员身份再开一个cmd 窗口</strong>，输入mongo 或者mongo.exe，出现如下信息说明测试通过，此时我们已经进入了test 这个数据库。</p>
                    <blockquote>
                        <p>mongo</p>
                    </blockquote>
                    <p>此时命令行显示 connecting to: test </p>
                    <p>输入exit 或者ctrl+C 可退出。</p>
                    <h3>5.将MongoDB 安装为windows 服务</h3>
                    <p>这一步很重要</p>
                    <p>当mongod.exe 被关闭时，mongo.exe 就无法连接到数据库了，因此每次想使用mongodb 数据库都要 开启mongod.exe 程序，所以比较麻烦，此时我们可以
                        <strong>将MongoDB 安装为windows 服务</strong>
                    </p>
                    <p>
                        <strong>以管理员身份运行cmd，进入bin 文件夹，执行下列命令</strong>
                    </p>
                    <blockquote>
                        <p>mongod --storageEngine mmapv1 --dbpath "d:\mongodb\db" --logpath "d:\mongodb\log\MongoDB.log" --install
                            --serviceName "MongoDB"</p>
                    </blockquote>
                    <p>(上面命令运行时不换行)</p>
                    <p>这里MongoDB.log 就是开始建立的日志文件，--serviceName "MongoDB" 服务名为MongoDB</p>
                    <p>接着
                        <strong>启动mongodb 服务</strong>
                    </p>
                    <blockquote>
                        <p>NET START MongoDB</p>
                    </blockquote>
                    <p>打开任务管理器，可以看到进程已经启动。</p>
                    <p>再次测试连接</p>
                    <blockquote>
                        <p>mongo</p>
                    </blockquote>
                    <p>如果遇到服务没有启动的情况,可打开任务管理器--服务--手动开启mongdb服务.</p>
                    <h3>6.关闭服务和删除进程</h3>
                    <p>先ctrl+c
                        <br> 关闭服务：net stop MongoDB
                        <br> 删除服务：sc delete mongodb
                    </p>
                    <h1>gulp</h1>
                    <ol>
                        <li>初始化--在根目录</li>
                    </ol>
                    <blockquote>
                        <p>npm init -y</p>
                    </blockquote>
                    <ol>
                        <li>安装gulp</li>
                    </ol>
                    <blockquote>
                        <p>cnpm i gulp --save-dev</p>
                    </blockquote>
                    <ol>
                        <li>
                            <p>新建gulp配置文件: 根目录新建文件gulpfile.js</p>
                        </li>
                        <li>
                            <p>下载插件：</p>
                        </li>
                    </ol>
                    <p>安装编译less的插件</p>
                    <blockquote>
                        <p>cnpm i gulp-less --save-dev</p>
                    </blockquote>
                    <p>压缩css</p>
                    <blockquote>
                        <p>cnpm i gulp-clean-css --save-dev</p>
                    </blockquote>
                    <p>压缩js</p>
                    <blockquote>
                        <p>cnpm i gulp-uglify --save-dev</p>
                    </blockquote>
                    <p>压缩图片</p>
                    <blockquote>
                        <p>cnpm i gulp-imagemin --save-dev</p>
                    </blockquote>
                    <p>重命名</p>
                    <blockquote>
                        <p>cnpm i gulp-rename --save-dev</p>
                    </blockquote>
                    <p>热更新插件</p>
                    <blockquote>
                        <p>cnpm i gulp-livereload --save-dev</p>
                    </blockquote>
                    <p>5.在gulpfile.js引入gulp 和插件:</p>
                    <pre><code>// 引入gulp
                    var gulp = require("gulp");
                    
                    // 引入编译less的插件
                    var less = require("gulp-less");
                    </code></pre>

                    <p>6.发布任务</p>
                    <p>实例:</p>
                    <pre><code>// 发布编译less的任务
                    gulp.task('less',function(){
                        gulp
                            .src("styles/less/*.less")
                            .pipe(less())
                            .pipe(gulp.dest("styles/css/"))
                    })
                    </code></pre>

                    <p>.......</p>
                    <p>7.观察者模式书写</p>
                    <pre><code>gulp.task('mywatch', function () {
                    
                        //监听热刷新
                         livereload.listen();
                    
                    // gulp.watch(参数1， 参数2)
                        //参数1：  监测的文件（源）  参数2： 监测的任务的名字
                    
                        gulp.watch("styles/less/*.less",["less"]);
                    });
                    </code></pre>

                    <p>8.定义默认任务</p>
                    <pre><code>gulp.task("default",["mywatch"]);
                    </code></pre>

                    <p>9.运行--命令行</p>
                    <blockquote>
                        <p>gulp</p>
                    </blockquote>
                    <h1>bower</h1>
                    <p>安装:</p>
                    <blockquote>
                        <p>cnpm i -g bower</p>
                    </blockquote>
                    <ol>
                        <li>新建目录 lib --在根目录下新建配置文件</li>
                    </ol>
                    <p>.bowerrc</p>
                    <p>2.打开配置文件,配置包的目录:</p>
                    <pre><code>{
                      "directory" : "./lib"
                    }
                    </code></pre>

                    <ol>
                        <li>下载 </li>
                    </ol>
                    <blockquote>
                        <p>bower install jquery</p>
                    </blockquote>
                    <p>4.其他命令</p>
                    <blockquote>
                        <p>卸载:
                            <br> bower uninstall jquery
                            <br> 更新:
                            <br> bower update jquery
                        </p>
                    </blockquote>
                    <h1>mock.js</h1>
                    <p>是一款前端开发中
                        <strong>拦截Ajax请求再生成随机数据响应的工具</strong>.可以用来模拟服务器响应.</p>
                    <p>优点是非常简单方便, 无侵入性, 基本覆盖常用的接口数据类型.</p>
                    <p>详细使用参见mock文档：
                        <a href="https://github.com/nuysoft/Mock/wiki" title="mock">https://github.com/nuysoft/Mock/wiki</a>
                    </p>
                    <h3>安装</h3>
                    <p>使用npm安装: </p>
                    <pre><code>npm install mockjs  
                    </code></pre>

                    <p>或使用html直接引入</p>
                    <pre><code>&lt;script src="http://mockjs.com/dist/mock.js"&gt;&lt;/script&gt;;
                    </code></pre>

                    <h3>语法规范</h3>
                    <pre><code>'name|rule': value
                    
                    属性名|生成规则: 属性值
                    </code></pre>

                    <h3>实例</h3>
                    <p>1.引入js</p>
                    <pre><code>&lt;script src="http://mockjs.com/dist/mock.js"&gt;&lt;/script&gt;;
                    </code></pre>

                    <p>2.生成数据</p>
                    <pre><code>&lt;script type="text/javascript"&gt;
                         var obj = {'aa':'11', 'bb':'22', 'cc':'33', 'dd':'44'};
                        // Mock响应模板
                        Mock.mock('http://test.com', { //定义请求地址
                            "user|1-20": [{   // 随机生成1到3个数组元素
                                'favrite|1-5': 1,
                                'name': '@cname',  // 中文名称
                                'id|+1': 1,    // 属性值自动加 1，初始值为88
                                'age|18-28': 0,   // 18至28以内随机整数, 0只是用来确定类型
                                'birthday': '@date("yyyy-MM-dd")',  // 日期
                                'city': '@city(true)',   // 中国城市
                                'color': '@color',  // 16进制颜色
                                'isMale|1': true,  // 布尔值
                                'isFat|1-2': true,  // true的概率是1/3
                                'fromObj|2': obj,  // 从obj对象中随机获取2个属性
                                'fromObj2|1-3': obj,  // 从obj对象中随机获取1至3个属性
                                'brother|1': ['jack', 'jim'], // 随机选取 1 个元素
                                'sister|+1': ['jack', 'jim', 'lily'], // array中顺序选取元素作为结果
                                'friends|2': ['jack', 'jim'] // 重复2次属性值生成一个新数组
                            },{
                                'gf': '@cname'
                            }]
                        });             
                    &lt;/script&gt;
                    </code></pre>

                    <p>3.请求数据</p>
                    <pre><code>&lt;!-- 发送ajax请求，使用mockjs--&gt;
                    &lt;script type="text/javascript"&gt;
                        $.ajax({
                            url: 'http://test.com',
                            type: 'get',
                            dataType: 'json'
                        }).done(function(data, status, xhr) {
                            console.log(JSON.stringify(data, null, 4));
                        });     
                    &lt;/script&gt;
                    </code></pre>

                    <p>检查控制台：</p>
                    <pre><code>{
                    "user": [
                        {
                            "favrite": 4,
                            "name": "曾芳",
                            "id": 1,
                            "age": 22,
                            "birthday": "2001-01-11",
                            "city": "台湾 台东县",
                            "color": "#84f279",
                            "isMale": true,
                            "isFat": false,
                            "fromObj": {
                                "bb": "22",
                                "cc": "33"
                            },
                            "fromObj2": {
                                "bb": "22"
                            },
                            "brother": "jack",
                            "sister": "jack",
                            "friends": [
                                "jack",
                                "jim",
                                "jack",
                                "jim"
                            ]
                        },
                    
                    
                    .....
                    </code></pre>

                    <p>
                        <strong>另附一些教程链接：</strong>
                    </p>
                    <p>
                        <a href="https://segmentfault.com/a/1190000008839142">https://segmentfault.com/a/1190000008839142</a>
                        <a href="https://cnodejs.org/topic/53f718218f44dfa3511af923">https://cnodejs.org/topic/53f718218f44dfa3511af923</a>
                        <br>
                        <a href="http://www.cnblogs.com/zhenfei-jiang/p/7235339.html">http://www.cnblogs.com/zhenfei-jiang/p/7235339.html</a>
                        <br>
                        <a href="http://www.cnblogs.com/CyLee/p/6072399.html">http://www.cnblogs.com/CyLee/p/6072399.html</a>
                        <br>
                        <a href="http://mockjs.com/0.1/">http://mockjs.com/0.1/</a>
                    </p>



                    <!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
                </section>
            </div>
        </div>
    </div>
</body>
    <!-- 底部 -->
    <script src="footer.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- <script src="js/scripts.js"></script> -->
    <script>
        ;
        (function () {
            $("body").scroll(function () {
                //获取side距离顶部的高度
                var ntop = $(".row").offset().top;
                // console.log(ntop)
                if (ntop <= 0) {
                    $(".side").addClass("sidefixed");

                } else {
                    $(".side").removeClass("sidefixed");

                }
            })
        })()
        // 小屏切换
        ;
        (function () {
            var flag = "false";
            $(".btn-defalut").on("click", function (event, touchflag) {
                if (touchflag) {
                    flag = touchflag;
                }
                if (flag == "false") {
                    $(".side").addClass("activeside");
                    flag = "true";
                } else {
                    $(".side").removeClass("activeside");
                    flag = "false";
                }
            })
        })()
        // 移动端侧栏滑动
        ;
        (function () {
            var startX, endX;
            minMove = 30;
            minMove1 = -30;
            $(document).on("touchstart", function (e) {
                startX = e.originalEvent.changedTouches[0].pageX; //获取当前触摸坐标
            })
            $(document).on("touchend", function (e) {
                endX = e.originalEvent.changedTouches[0].pageX;
                if (endX - startX > minMove) {
                    // 注册一个事件
                    $(document).trigger("leftToRight");
                }
                if (endX - startX < minMove1) {
                    $(document).trigger("rightToLeft");
                }
            });
            //从左到右滑动
            $(document).on("leftToRight", function () {
                // 执行事件
                $(".btn-defalut").trigger("click", ["false"]);
            })
            // 从右到左滑动
            $(document).on("rightToLeft", function () {
                $(".btn-defalut").trigger("click", ["true"]);
            })
        })();
    </script>
    <script>
        $("#gotop").hide();
        var titleh1 = $(".sharecontant h1");
        var html1 = '';
        for(var i = 0,len = titleh1.length;i<len;i++){

            var id1 = titleh1[i].innerHTML;
            // console.log(id)
            $(titleh1[i]).prop("id",id1)
            console.log(id1)
            html1 += '<li><h3><a href="#'+id1+'">'+id1+'</a></h3></li>';
            // console.log(html1);
            $("#sidetitle").html(html1);
        }
        
        

    </script>
</html>